{% comment %} {% extends 'base.html' %} {% endcomment %}
{% load static %}

{% comment %} {% block title %}Library Registration - LibNexa{% endblock %} {% endcomment %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/accounts/sign_up.css' %}" />
{% endblock %}

{% block content %}
{% comment %} <div class="bg-decoration"><img src="{% static "{% url "assets/img/SIGNUP_BACKGROUND.png" %}" %}" alt="SIGN UP BACKGROUND"></div> {% endcomment %}

{% comment %} <button class="back-btn" onclick="window.location.href='{% url 'login' %}'" aria-label="Go back">
  â†
</button> {% endcomment %}

<div class="auth-wrapper">
  <div class="register-container">
    <div class="logo-section">
      <div class="logo-container">
        <span class="logo-icon"><img src="{% static 'assets/img/logo2.png' %}" 
     alt="Dooars Granthika" 
     width="60" 
     height="60"></span>
      </div>
      <div class="logo-text">LibNexa</div>
    </div>

    <div class="header-section">
      <h2>Library Registration</h2>
      <p class="subtitle">Register your library and start managing efficiently</p>
    </div>

    {% if messages %}
      <div id="status-msg" class="status">
        {% for message in messages %}
          {{ message }}
        {% endfor %}
      </div>
    {% else %}
      <div id="status-msg" class="status"></div>
    {% endif %}

    <form method="post" id="registrationForm">
      {% csrf_token %}

      <!-- Library Information Section -->
      <div class="form-section">
        <div class="section-title">ğŸ“š Library Information</div>
        <div class="form-grid">
          <div class="form-group" id="libraryName-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ“–</div>
              <input 
                type="text" 
                id="libraryName" 
                name="library_name"
                placeholder="Library Name" 
                required
                autofocus
              />
            </div>
            <div class="error-message">Library name is required</div>
          </div>
          <div class="form-group" id="instituteName-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ«</div>
              <input 
                type="text" 
                id="instituteName" 
                name="institute_name"
                placeholder="Institute Name" 
                required
              />
            </div>
            <div class="error-message">Institute name is required</div>
          </div>
        </div>
      </div>

      <!-- Contact Details Section -->
      <div class="form-section">
        <div class="section-title">ğŸ“ Contact Details</div>
        <div class="form-grid">
          <div class="form-group" id="instituteEmail-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ“§</div>
              <input 
                type="email" 
                id="instituteEmail" 
                name="institute_email"
                placeholder="Institute Email" 
                required
              />
            </div>
            <div class="error-message">Valid email is required</div>
          </div>
          <div class="form-group" id="address-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ“</div>
              <input 
                type="text" 
                id="address" 
                name="address"
                placeholder="Address" 
                required
              />
            </div>
            <div class="error-message">Address is required</div>
          </div>
          <div class="form-group" id="district-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ˜ï¸</div>
              <input 
                type="text" 
                id="district" 
                name="district"
                placeholder="District" 
                required
              />
            </div>
            <div class="error-message">District is required</div>
          </div>
          <div class="form-group" id="state-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ—ºï¸</div>
              <input 
                type="text" 
                id="state" 
                name="state"
                placeholder="State" 
                required
              />
            </div>
            <div class="error-message">State is required</div>
          </div>
          <div class="form-group" id="country-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸŒ</div>
              <input 
                type="text" 
                id="country" 
                name="country"
                placeholder="Country" 
                required
              />
            </div>
            <div class="error-message">Country is required</div>
          </div>
        </div>
      </div>

      <!-- Library Settings Section -->
      <div class="form-section">
        <div class="section-title">âš™ï¸ Library Settings</div>
        <div class="form-grid">
          <div class="form-group" id="latefine-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ’°</div>
              <input 
                type="number" 
                id="latefine" 
                name="late_fine"
                placeholder="Late Fine (Per Day)" 
                min="0" 
                step="0.01" 
                required
              />
            </div>
            <div class="error-message">Late fine must be 0 or greater</div>
          </div>
          <div class="form-group" id="borrowingPeriod-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ“…</div>
              <input 
                type="number" 
                id="borrowingPeriod" 
                name="borrowing_period"
                placeholder="Borrowing Period (Days)" 
                min="1" 
                max="365" 
                required
              />
            </div>
            <div class="error-message">Borrowing period must be between 1-365 days</div>
          </div>
          <div class="form-group" id="AlottedBooks-group">
            <div class="input-wrapper">
              <div class="input-icon">ğŸ“–</div>
              <input 
                type="number" 
                id="AlottedBooks" 
                name="allotted_books"
                placeholder="Books Per Member" 
                min="1" 
                max="50" 
                required
              />
            </div>
            <div class="error-message">Books per member must be between 1-50</div>
          </div>
        </div>
      </div>

      <button type="submit" class="btn-register" id="registerBtn">
        <div class="loading-spinner"></div>
        <span class="btn-text">Create Library Account</span>
      </button>
      <h6 class='signup-text'>Already have an account? <a class='signup-link' href="{% url "accounts:signin" %}">Login here</a></h6>
    </form>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/accounts/sign_up.js' %}"></script>
{% endblock %}